<ion-header>
  <ion-toolbar>
    <ion-icon (click)="goBackPage()" class="back-icon" name="caret-back-outline"></ion-icon>
    <ion-title>Estoque de produtos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="detailsForm" (ngSubmit)="editar()" novalidate>
    <ion-item>
      <ion-input label="Nome" placeholder="Insira o Nome do Produto" formControlName="nome"></ion-input>
    </ion-item>
    <span *ngIf="detailsForm.get('nome')?.touched && detailsForm.get('nome')?.errors?.['required']">O campo nome é obrigatório</span>
    <span *ngIf="detailsForm.get('nome')?.dirty && detailsForm.get('nome')?.errors?.['minlength']">O campo nome é de no minimo 5 caracteres</span>
    <ion-item>
      <ion-input label="Preço" placeholder="Insira o Preço"  formControlName="preco" ></ion-input>
    </ion-item>
    <span *ngIf="detailsForm.get('preco')?.touched && detailsForm.get('preco')?.errors?.['required']">O campo preco é obrigatório</span>
    <span *ngIf="detailsForm.get('preco')?.dirty && detailsForm.get('preco')?.errors?.['minlength']">O campo preco é de no minimo 2 caracteres</span>

    <ion-item>
      <ion-input label="Descricão" placeholder="Insira o Descricão" formControlName="descricao"></ion-input>
    </ion-item>
    <span *ngIf="detailsForm.get('descricao')?.touched && detailsForm.get('descricao')?.errors?.['required']">O campo Descricão é obrigatório</span>
    <ion-item>
      <ion-input label="Fornecedor" placeholder="Insira o Fornecedor" formControlName="fornecedor"></ion-input>
    </ion-item>
    <span *ngIf="detailsForm.get('fornecedor')?.touched && detailsForm.get('fornecedor')?.errors?.['required']">O campo Fornecedor é obrigatório</span>
    <ion-item>
      <ion-select label="Categoria" placeholder="Selecione a Categoria" formControlName="categoria">
        <ion-select-option value="0">Cadeiras Gamer</ion-select-option>
        <ion-select-option value="1">Funko Pop</ion-select-option>
        <ion-select-option value="2">Mouses</ion-select-option>
        <ion-select-option value="3">Mousepads</ion-select-option>
        <ion-select-option value="4">Teclados</ion-select-option>
        <ion-select-option value="5">Caixas de Som</ion-select-option>
        <ion-select-option value="6">Headsets e Fones</ion-select-option>
        <ion-select-option value="7">Monitores Gamer</ion-select-option>
        <ion-select-option value="8">Gabinetes</ion-select-option>
        <ion-select-option value="9">Mesas Gamer</ion-select-option>
        <ion-select-option value="10">Coolers</ion-select-option>
      </ion-select>
    </ion-item>
      <img src="{{this.produto.downloadURL}}" />
    <ion-item>
      <ion-button size="default" color="success" shape="round" >
        <input type="file" (change)="uploadFile($event)" />
      </ion-button>
    </ion-item>
    <span *ngIf="detailsForm.get('imagem')?.touched && detailsForm.get('imagem')?.errors?.['required']">O campo imagem é obrigatório</span>

  <ion-button expand="full" type="submit" >Salvar</ion-button> 
  <ion-button expand="full" (click)="excluir()" color="danger" >Excluir</ion-button> 
  </form>
</ion-content>